<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>My Page - Movie Review Site</title>
    <link th:href="@{/css/myPage-style.css}" rel="stylesheet">
</head>
<body>
<header>
    <div class="navbar">
        <div class="logo">
            <h1>Movie Review Site</h1>
        </div>
        <nav>
            <ul class="menu-right">
                <li><a href="/home">홈</a></li>
                <li><a href="/mypage">마이페이지</a></li>
                <li><a href="/reviews" class="review-button">Write a Review</a></li>
                <li><a href="/logout" class="logout-button">Logout</a></li>
            </ul>
        </nav>
    </div>
</header>

<main>
    <section class="profile-settings">
        <h2>Profile Settings</h2>
        <div class="profile-card">
            <div class="profile-info">
                <img th:src="${user?.profileImageUrl ?: '/images/default-profile.png'}" alt="Profile Image" class="profile-img"/>
                <div class="profile-details">
                    <p class="username">Username: <span th:text="${user.nickname}"></span></p>
                    <p class="email">Email: <span th:text="${user.email}"></span></p>
                    <button class="profile-btn">Change Profile</button>
                </div>
            </div>
        </div>
    </section>

<!--    <section class="favorites">-->
<!--        <h2>Movies I Favorite</h2>-->
<!--        <div class="movie-list">-->
<!--            <div class="movie-item">Inception</div>-->
<!--            <div class="movie-item">The Matrix</div>-->
<!--            <div class="movie-item">Interstellar</div>-->
<!--        </div>-->
<!--    </section>-->

    <section class="reviews">
        <h2>My Reviews</h2>
        <div class="review-list" th:each="review : ${myReviews}">
            <div class="review-item">
                <img th:src="@{'https://image.tmdb.org/t/p/original/' + ${review.movie.poster}}" alt="Movie Poster" class="poster">
                <div class="review-title">
                    <h3 th:text="${review.movie.title}"></h3>
                    <p th:text="${review.movie.releaseDate}"></p>
                </div>
                <p th:text="'영화 리뷰 : ' + ${review.movieReview}" class="review-body"></p>
                <div class="rating">
                    <p>총점 <span th:text="${review.rating}">0</span>/5</p>
                </div>
            </div>
        </div>
    </section>

<!--    <section class="posts">-->
<!--        <h2>My Posts</h2>-->
<!--        <div class="post-list">-->
<!--            <div class="post-item">-->
<!--                <h3>Upcoming Movies</h3>-->
<!--                <p>Excited about the new releases coming this summer!</p>-->
<!--            </div>-->
<!--            <div class="post-item">-->
<!--                <h3>Favorite Directors</h3>-->
<!--                <p>Christopher Nolan, Steven Spielberg, and Quentin Tarantino are my top picks.</p>-->
<!--            </div>-->
<!--        </div>-->
<!--    </section>-->
</main>

<footer>
    <p>© 2024 Movie Review Site</p>
</footer>
</body>
</html>